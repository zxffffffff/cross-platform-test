# cross-platform-test
横向对比测试跨平台框架的性能，包括 Qt、Electron、Flutter

## 压测
统一全屏1920x1080，网格控件500个
- 单次请求：点击-网络请求-网络解析-UI重绘-事件全部完成（刷新所有控件，简单作为用户体验指标）
- 持续请求：定时 10ms 网络请求（由于CPU性能瓶颈会导致Timer延迟，简单作为吞吐量指标）
- 高频绘制：鼠标输入-UI重绘（查看鼠标延迟，简单作为用户体验指标）
- 主观评价： 技术栈，学习成本，开发周期、开发复杂性、生态

| 跨平台框架         | Qt         | Electron   | Flutter   |
|-------------------|------------|------------|-----------|
| 开发语言           | C++        | JavaScript | Dart      |
| 单次请求 -耗时     | 80 ms      |            |           |
| 单次请求 -CPU占用  | 1 %        |            |           |
| 单次请求 -内存占用 | 18 MB      |            |           |
| 持续推送 -延迟     | 80 ms      |            |           |
| 持续推送 -CPU占用  | 15 %       |            |           |
| 持续推送 -内存占用 | 18 MB      |            |           |
| 高频绘制 -延迟     | 0~100 px   |            |           |
| 高频绘制 -CPU占用  | 10 %       |            |           |
| 高频绘制 -内存占用 | 18 MB      |            |           |
| 多窗口 -创建耗时   | -          |            |           |
| 多窗口 -CPU占用    | 1 %        |            |           |
| 多窗口 -内存占用   | + 8 MB     |            |           |
| 兼容性 -Win7      | Qt5 支持    |            |           |
| 安装包 -win       | 25 MB      |            | 24 MB     | 
| 安装包 -win/zip   | 10 MB      |            | 9 MB      | 
| 安装包 -mac       | 0.5 MB     |            |           | 
| 安装包 -mac/zip   | 0.2 MB     |            |           | 
| 主观评价          |            |            |           | 

## demo-qt 说明
- 添加 Qt 依赖库：
    - 开始菜单 Qt 命令行
    - `windeployqt.exe demo-qt.exe`
    - 可以移除部分不需要的 dll

## demo_flutter 说明
- 打包：
    - `flutter build windows`
